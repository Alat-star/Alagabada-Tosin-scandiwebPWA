"use strict";(self.webpackChunkalagbada_tosin_scandiweb_prj=self.webpackChunkalagbada_tosin_scandiweb_prj||[]).push([[332],{2332:function(t,e,n){n.r(e),n.d(e,{default:function(){return k}});var a,r=n(5671),s=n(3144),c=n(136),i=n(8347),o=n(2791),l=n(168),u=n(2270),d=n(2306),p=n(7326),h=n(4803),y=n(364),m=n(9146),g=n(1523),v=n(9271),f=n(184),C=function(t){(0,c.Z)(n,t);var e=(0,i.Z)(n);function n(t){var a;return(0,r.Z)(this,n),(a=e.call(this,t)).handleClick=a.handleClick.bind((0,p.Z)(a)),a.state={toast:!1},a}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){var t=this.props.match.params.product;this.props.data.refetch({newCategory:t||"all"})}},{key:"componentDidUpdate",value:function(t){t.activeCategory!==this.props.activeCategory&&this.props.data.refetch({newCategory:this.props.activeCategory})}},{key:"handleClick",value:function(t,e,n,a,r){var s=this;this.props.dispatch((0,m.Z)({id:t,brand:e,image:n,attributes:a,textindex:0,prices:r})),this.setState({toast:!0}),setTimeout((function(){s.setState({toast:!1})}),3e3)}},{key:"render",value:function(){var t=this,e=this.props.data,n=e.category;return e.loading?(0,f.jsx)("img",{alt:"suspense_loader",src:h.Z.loader}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"category_Name",children:this.props.activeCategory.toUpperCase()}),(0,f.jsxs)("div",{className:"product_container",children:[this.state.toast?(0,f.jsx)("div",{className:"toast",children:"Item added to cart!"}):null,n.products.map((function(e,n){var a=e.name,r=e.gallery,s=e.brand,c=e.inStock,i=e.id,o=e.prices,l=e.category,u=e.attributes,d=o.filter((function(e){return e.currency.symbol===t.props.currency.symbol}))[0],p=r[0];return(0,f.jsxs)("div",{className:"item_container",style:{opacity:c?"1":"0.5"},children:[(0,f.jsx)("div",{children:(0,f.jsx)("img",{src:h.Z.addtocart,alt:"cart_icon",className:"addto_cart",style:{opacity:!c&&"0"},onClick:function(){return t.handleClick(a,s,r,u,o)}})}),(0,f.jsx)(g.rU,{to:"/".concat(l,"/").concat(i),children:(0,f.jsxs)("div",{className:"image_container",children:[(0,f.jsx)("img",{src:p,alt:a,className:"product_images"}),!c&&(0,f.jsx)("h2",{className:"outof_stock",children:"OUT OF STOCK"})]})}),(0,f.jsxs)("h3",{className:"product_name",children:[s," ",a]}),(0,f.jsxs)("h4",{children:[d.currency.symbol,d.amount]})]},n)}))]})]})}}]),n}(o.Component),b=(0,y.$j)((function(t){return{activeCategory:t.categoryName.value,currency:t.currency.activeCurrency}}))((0,v.EN)(C)),j=(0,u.B)((0,d.Ps)(a||(a=(0,l.Z)(["\n    query ($newCategory: String!) {\n      category(input: { title: $newCategory }) {\n        products {\n          name\n          gallery\n          brand\n          inStock\n          id\n          category\n          attributes {\n            id\n            name\n            type\n            items {\n              displayValue\n              value\n              id\n            }\n          }\n          prices {\n            currency {\n              label\n              symbol\n            }\n            amount\n          }\n        }\n      }\n    }\n  "]))),{options:function(){return{variables:{newCategory:"all"}}}})(b),x=function(t){(0,c.Z)(n,t);var e=(0,i.Z)(n);function n(){return(0,r.Z)(this,n),e.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(j,{})})}}]),n}(o.Component),k=x}}]);
//# sourceMappingURL=332.dfecc963.chunk.js.map